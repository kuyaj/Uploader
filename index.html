<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload to firebase storage</title>
</head>
<body>
    <!-- <progress value="0" max="100" id="uploader"></progress> -->
    <input type="file" name="" id="fileButton">
    <label for="fileButton">Choose a file</label>
  
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-storage.js"></script>
    <script>
        var firebaseConfig = {
          apiKey: "AIzaSyDV6ATuxNt1OWtIPOioBCtuKDRlSySOQxA",
          authDomain: "photo-uploader-249b1.firebaseapp.com",
          projectId: "photo-uploader-249b1",
          storageBucket: "photo-uploader-249b1.appspot.com",
          messagingSenderId: "940509958316",
          appId: "1:940509958316:web:bfcb6500d54e3edc664f09"
      };

      firebase.initializeApp(firebaseConfig);
      
      var storage = firebase.storage();

      var uploader = document.getElementById("uploader");
    //Get file
      var fileButton = document.getElementById("fileButton");
    
      fileButton.addEventListener("change", function(e) {
          var file = e.target.files[0];
        // Create storage reference
          var storageRef = storage.ref("zodiac/"+file.name);
        
        // //   Upload file
        // var task = storageRef.put(file);

        alert("The photo has been uploaded! "+file.name);

        task.on("state_changed", 
        function progress (snapshot){
            var percentage = (snapshot.bytesTransferred/snapshot.totalBytes)*100;
            uploader.value = percentage;
        },
        function(error){

        },
        function complete(){

        })
          
      })
  </script>
  <style>
    #fileButton {
      width: 0.1px;
    	height: 0.1px;
    	opacity: 0;
	    overflow: hidden;
    	position: absolute;
	    z-index: -1;
    }

    #fileButton + label {
      font-size: 1.25em;
    font-weight: 700;
    color: white;
    background-color: black;
    display: inline-block;
    padding: 10px;
    }

    #fileButton:focus + label,
    #fileButton + label:hover {
      background-color: red;
   }

   #fileButton + label {
     cursor: pointer;
   }
  </style>
</body>
</html>